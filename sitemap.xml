---
layout: null
sitemap:
  exclude: 'yes'
---
<?xml version="1.0" encoding="UTF-8"?>
<urlset xmlns="http://www.sitemaps.org/schemas/sitemap/0.9"
        xmlns:xhtml="http://www.w3.org/1999/xhtml">

    <!-- 首页 -->
    <url>
        <loc>{{ site.url }}{{ site.baseurl }}/</loc>
        <lastmod>{{ site.time | date_to_xmlschema }}</lastmod>
        <changefreq>weekly</changefreq>
        <priority>1.0</priority>
    </url>

    <!-- 静态页面 -->
    {% for page in site.pages %}
        {% unless page.sitemap.exclude == "yes" or page.name contains "404" %}
        <url>
            <loc>{{ site.url }}{{ site.baseurl }}{{ page.url | remove: "index.html" }}</loc>
            {% if page.last_modified_at %}
                <lastmod>{{ page.last_modified_at | date_to_xmlschema }}</lastmod>
            {% elsif page.date %}
                <lastmod>{{ page.date | date_to_xmlschema }}</lastmod>
            {% else %}
                <lastmod>{{ site.time | date_to_xmlschema }}</lastmod>
            {% endif %}
            <changefreq>monthly</changefreq>
            <priority>0.8</priority>
        </url>
        {% endunless %}
    {% endfor %}

    <!-- 博客文章 -->
    {% for post in site.posts %}
        {% unless post.sitemap.exclude == "yes" %}
        <url>
            <loc>{{ site.url }}{{ site.baseurl }}{{ post.url }}</loc>
            {% if post.last_modified_at %}
                <lastmod>{{ post.last_modified_at | date_to_xmlschema }}</lastmod>
            {% else %}
                <lastmod>{{ post.date | date_to_xmlschema }}</lastmod>
            {% endif %}
            <changefreq>
                {% assign post_age = site.time | date: "%s" | minus: post.date | date: "%s" | divided_by: 86400 %}
                {% if post_age < 30 %}weekly{% elsif post_age < 365 %}monthly{% else %}yearly{% endif %}
            </changefreq>
            <priority>
                {% assign post_age = site.time | date: "%s" | minus: post.date | date: "%s" | divided_by: 86400 %}
                {% if post_age < 30 %}0.9{% elsif post_age < 90 %}0.8{% elsif post_age < 365 %}0.7{% else %}0.6{% endif %}
            </priority>
        </url>
        {% endunless %}
    {% endfor %}

    <!-- 分类页面 -->
    {% for category in site.categories %}
    <url>
        <loc>{{ site.url }}{{ site.baseurl }}/categories/{{ category[0] | slugify }}/</loc>
        <lastmod>
            {% assign latest_post = category[1] | first %}
            {{ latest_post.date | date_to_xmlschema }}
        </lastmod>
        <changefreq>weekly</changefreq>
        <priority>0.7</priority>
    </url>
    {% endfor %}

    <!-- 标签页面 -->
    {% assign tags = site.tags | sort %}
    {% for tag in tags %}
    <url>
        <loc>{{ site.url }}{{ site.baseurl }}/tags/{{ tag[0] | slugify }}/</loc>
        <lastmod>
            {% assign latest_post = tag[1] | first %}
            {{ latest_post.date | date_to_xmlschema }}
        </lastmod>
        <changefreq>monthly</changefreq>
        <priority>0.6</priority>
    </url>
    {% endfor %}

</urlset>